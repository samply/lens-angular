<p-card header="{{resultRenderer.title}}">
  <p-table [value]="mockData2" [paginator]="false" [rows]="15" responsiveLayout="scroll">
    <ng-template pTemplate="header">
      <tr class="table-grid">
        <th i18n="column header for the name of a site" colspan="2">Collections</th>
        <th i18n="column header for the name of a site">Provider</th>
        <th i18n="column header for the number of patients"[style.width]="'15%'">Studies</th>
        <th i18n="column header for the number of specimen"[style.width]="'15%'">Subjects</th>
        <th class="toggle"></th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-results let-i="rowIndex">
      <tr colspan="5" class="subtable-wrapper">

        <td colspan="6" class="table-divider">
      <table *ngFor="let result of results.collections, index as i" [style.width]="'100%'">
        <tr>
          <td colspan="2"><img src="data:image/png;base64, {{results.icon}}" alt=""> {{result.name}}</td>
          <td>{{results.provider}}</td>
          <td [style.width]="'15%'">{{result.studies_count}}</td>
          <td [style.width]="'15%'">{{result.subjects_count}}</td>
          <td class="toggle"><button (click)="openRow(i)"><span class="expand-button-{{i}} pi pi-angle-down" ></span></button></td>
        </tr>
        <tr class="collapsable-wrapper collapsable-wrapper-{{i}}">
          <td colspan="5" >
            <div>
              Age range: {{result.age_range.min}} to {{ result.age_range.max}}
            </div>
            <div>
              Gender: {{result.gender}}
            </div>
            <div>
              Modality: {{result.modality}}
            </div>
            <div>
              Body parts: {{result.body_parts}}
            </div>
            <div>
              Description: {{result.description}}
            </div>
          </td>
        </tr>
      </table>
</td>
    </tr>


    </ng-template>
  </p-table>
  <lens-negotiate-button *ngIf="resultRenderer.showNegotiationButton"></lens-negotiate-button>
</p-card>